@use "sass:map";
@use 'sass:list';

/**
-----------------------------------------------------
FONT
-----------------------------------------------------
*/
@function pxToVw($size, $breakpoint) {
  @return max(#{$size*0.8}px, ($size / $breakpoint) * 100vw);
}

@mixin font($font) {

  @if ($font == "text/p") {
    // mobile-xs, mobile, tablet, desktop
    $base-fs: 18, 18, 18, 18;
    line-height: normal;
    font-weight: normal;

    @each $index, $size in $sizes {
      @media #{map.get($size, "media")} {
        font-size: pxToVw(list.nth($base-fs, $index), map.get($size, "target"));
      }
    }
  }
  @else if ($font == "title/h1") {
    // mobile-xs, mobile, tablet, desktop
    $base-fs: 45, 45, 45, 45;
    line-height: normal;
    font-weight: normal;

    @each $index, $size in $sizes {
      @media #{map.get($size, "media")} {
        font-size: pxToVw(list.nth($base-fs, $index), map.get($size, "target"));
      }
    }
  }
  @else if ($font == "title/h2") {
    // mobile-xs, mobile, tablet, desktop
    $base-fs: 32, 32, 32, 32;
    line-height: normal;
    font-weight: normal;

    @each $index, $size in $sizes {
      @media #{map.get($size, "media")} {
        font-size: pxToVw(list.nth($base-fs, $index), map.get($size, "target"));
      }
    }
  }
  @else if ($font == "title/h3") {
    // mobile-xs, mobile, tablet, desktop
    $base-fs: 24, 24, 24, 24;
    line-height: normal;
    font-weight: normal;

    @each $index, $size in $sizes {
      @media #{map.get($size, "media")} {
        font-size: pxToVw(list.nth($base-fs, $index), map.get($size, "target"));
      }
    }
  }
  @else if ($font == "title/h4") {
    // mobile-xs, mobile, tablet, desktop
    $base-fs: 20, 20, 20, 20;
    line-height: normal;
    font-weight: normal;

    @each $index, $size in $sizes {
      @media #{map.get($size, "media")} {
        font-size: pxToVw(list.nth($base-fs, $index), map.get($size, "target"));
      }
    }
  }
}

/**
-----------------------------------------------------
CUSTOM PROPERTY
-----------------------------------------------------
*/
$base-length: 20px;
@mixin prop($property, $coef: 1, $important: null) {
  @media #{$mobile-xs} {
    #{$property}: $base-length * 0.25 * $coef $important;
  }
  @media #{$mobile} {
    #{$property}: $base-length * 0.5 * $coef $important;
  }
  @media #{$tablet} {
    #{$property}: $base-length * 0.75 * $coef $important;
  }
  @media #{$desktop} {
    #{$property}: $base-length * $coef $important;
  }
}

@mixin padding($coef: 1, $important: null) {
  @include prop("padding", $coef, $important);
}
@mixin gap($coef: 1, $important: null) {
  @include prop("gap", $coef, $important);
}

/**
-----------------------------------------------------
BORDER
-----------------------------------------------------
*/
$base-border-radius: 20px;
@mixin border-radius($coef: 1, $side: "all") {
  @if $side == "all" {
    @media #{$mobile-xs} {
      border-radius: $base-border-radius * 0.5 * $coef;
    }
    @media #{$mobile} {
      border-radius: $base-border-radius * 0.5 * $coef;
    }
    @media #{$tablet} {
      border-radius: $base-border-radius * 0.75 * $coef;
    }
    @media #{$desktop} {
      border-radius: $base-border-radius * $coef;
    }
  } @else if $side == "top" {
    @media #{$mobile-xs} {
      border-radius: ($base-border-radius * 0.5 * $coef)
        ($base-border-radius * $coef * 0.5) 0 0;
    }
    @media #{$mobile} {
      border-radius: ($base-border-radius * 0.5 * $coef)
        ($base-border-radius * 0.5 * $coef) 0 0;
    }
    @media #{$tablet} {
      border-radius: ($base-border-radius * 0.75 * $coef)
        ($base-border-radius * 0.75 * $coef) 0 0;
    }
    @media #{$desktop} {
      border-radius: ($base-border-radius * $coef) ($base-border-radius * $coef)
        0 0;
    }
  } @else if $side == "bottom" {
    @media #{$mobile-xs} {
      border-radius: 0 0 ($base-border-radius * $coef * 0.5)
        ($base-border-radius * $coef * 0.5);
    }
    @media #{$mobile} {
      border-radius: 0 0 ($base-border-radius * $coef * 0.5)
        ($base-border-radius * $coef * 0.5);
    }
    @media #{$tablet} {
      border-radius: 0 0 ($base-border-radius * $coef * 0.75)
        ($base-border-radius * $coef * 0.75);
    }
    @media #{$desktop} {
      border-radius: 0 0 ($base-border-radius * $coef)
        ($base-border-radius * $coef);
    }
  }
}

@mixin border($coef: 1, $color: null) {
  border: 1px solid;
  @if $color != null {
    border-color: $color;
  }
  @include border-radius($coef);
}

/**
-----------------------------------------------------
POSITIONING
-----------------------------------------------------
*/
@mixin inset($arg: 0) {
  top: $arg;
  bottom: $arg;
  left: $arg;
  right: $arg;

  @supports (inset: $arg) {
    inset: $arg;
  }
}

/**
-----------------------------------------------------
WRAPPER
-----------------------------------------------------
*/
$base-wrapper: 1440px;
@mixin wrapper($wrapper: $base-wrapper) {
  margin: 0 auto;
  max-width: $wrapper;
  width: 100%;
  @include prop("padding-inline", 1.5);
}

/**
-----------------------------------------------------
TRANSITION
-----------------------------------------------------
*/
@mixin transition($property, $duration: 0.2s, $v: ease-out) {
  transition-property: #{$property};
  transition-duration: $duration;
  transition-timing-function: $v;
}
